{"version":3,"sources":["../src/to-iso-string-x.js"],"names":[],"mappings":"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","file":"to-iso-string-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport isDate from 'is-date-object';\nimport padStart from 'string-pad-start-x';\nimport map from 'array-map-x';\nimport arraySlice from 'array-slice-x';\nimport toBoolean from 'to-boolean-x';\nimport methodize from 'simple-methodize-x';\n\n/* eslint-disable-next-line no-restricted-globals */\nconst globalIsFinite = isFinite;\nconst {abs} = Math;\nconst $Date = Date;\nconst datePrototype = $Date.prototype;\nconst getTime = methodize(datePrototype.getTime);\nconst getUTCFullYear = methodize(datePrototype.getUTCFullYear);\nconst getUTCMonth = methodize(datePrototype.getUTCMonth);\nconst getUTCDate = methodize(datePrototype.getUTCDate);\nconst getUTCHours = methodize(datePrototype.getUTCHours);\nconst getUTCMinutes = methodize(datePrototype.getUTCMinutes);\nconst getUTCSeconds = methodize(datePrototype.getUTCSeconds);\nconst getUTCMilliseconds = methodize(datePrototype.getUTCMilliseconds);\nconst ntis = datePrototype.toISOString;\nconst methodizedToISOString = typeof ntis === 'function' && methodize(ntis);\nconst join = methodize([].join);\nconst EMPTY_STRING = '';\nconst indexOf = methodize(EMPTY_STRING.indexOf);\n\nconst test1 = function test1() {\n  const res = attempt(methodizedToISOString, new $Date(0));\n\n  return res.threw === false && res.value === '1970-01-01T00:00:00.000Z';\n};\n\nconst test2 = function test2() {\n  const res = attempt(methodizedToISOString, new $Date(-62198755200000));\n\n  return res.threw === false && indexOf(res.value, '-000001') > -1;\n};\n\nconst test3 = function test3() {\n  const res = attempt(methodizedToISOString, new $Date(-1));\n\n  return res.threw === false && res.value === '1969-12-31T23:59:59.999Z';\n};\n\nconst isWorking = toBoolean(methodizedToISOString) && test1() && test2() && test3();\n\nconst assertIsDate = function assertIsDate(date) {\n  if (isDate(date) === false) {\n    throw new TypeError('toISOString called on incompatible receiver.');\n  }\n\n  return date;\n};\n\nconst assertAdobe = function assertAdobe(date) {\n  if (globalIsFinite(date) === false || globalIsFinite(getTime(date)) === false) {\n    // Adobe Photoshop requires the second check.\n    throw new RangeError('toISOString called on non-finite value.');\n  }\n\n  return date;\n};\n\nconst stringify = function stringify(args) {\n  const [date, month, year] = args;\n  // the date time string format is specified in 15.9.1.15.\n  const parts = [month + 1, getUTCDate(date), getUTCHours(date), getUTCMinutes(date), getUTCSeconds(date)];\n\n  const result = map(parts, function iteratee(item) {\n    // pad months, days, hours, minutes, and seconds to have two digits.\n    return padStart(item, 2, '0');\n  });\n\n  const dateStr = `${year}-${join(arraySlice(result, 0, 2), '-')}`;\n  // pad milliseconds to have three digits.\n  const msStr = padStart(getUTCMilliseconds(date), 3, '0');\n  const timeStr = `${join(arraySlice(result, 2), ':')}.${msStr}`;\n\n  return `${dateStr}T${timeStr}Z`;\n};\n\nconst patchedToIsoString = function toISOString(date) {\n  assertIsDate(date);\n  assertAdobe(date);\n\n  return methodizedToISOString(date);\n};\n\nconst getSign = function getSign(year) {\n  if (year < 0) {\n    return '-';\n  }\n\n  if (year > 9999) {\n    return '+';\n  }\n\n  return EMPTY_STRING;\n};\n\nexport const implementation = function toISOString(date) {\n  assertIsDate(date);\n  assertAdobe(date);\n\n  let year = getUTCFullYear(date);\n  let month = getUTCMonth(date);\n  // see https://github.com/es-shims/es5-shim/issues/111\n  /* eslint-disable-next-line no-bitwise */\n  year += (month / 12) >> 0; // floor\n  month = ((month % 12) + 12) % 12;\n\n  const sign = getSign(year);\n\n  year = sign + padStart(abs(year), sign ? 6 : 4, '0');\n\n  return stringify([date, month, year]);\n};\n\n/**\n * This method returns a string in simplified extended ISO format (ISO 8601),\n * which is always 24 or 27 characters long (YYYY-MM-DDTHH:mm:ss.sssZ or\n * Â±YYYYYY-MM-DDTHH:mm:ss.sssZ, respectively). The timezone is always zero UTC\n * offset, as denoted by the suffix \"Z\".\n *\n * @param {object} date - A $Date object.\n * @throws {TypeError} If date is not a $Date object.\n * @throws {RangeError} If date is invalid.\n * @returns {string} Given date in the ISO 8601 format according to universal time.\n */\nconst $toISOString = isWorking ? patchedToIsoString : implementation;\n\nexport default $toISOString;\n"]}